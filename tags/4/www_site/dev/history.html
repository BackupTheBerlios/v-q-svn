<!DOCTYPE html public "-//W3C//DTD HTML 4.0 Transitional//EN"><html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Virtual Qmail</title>
    <meta name="author" content="Pawel Niewiadomski, new@foo-baz.com">
    <meta name="keywords" content="virtual, qmail, mta, domains, hosting, linux, openbsd, mail system">
    <link rel="stylesheet" type="text/css" href="../style.css">
  </head>
  <body bgcolor="white" color="black">
    <table cellspacing="0" cellpadding="0" width="700">
      <tr>
        <td>
          <h2 class="sec">Virtual Qmail</h2>
        </td>
      </tr>
      <tr>
        <td valign="top">
          <table width="100%" cellspacing="0" cellpadding="0">
            <tr class="menu">
              <td>
                <a href="../dev">Developers</a> <a href="../docs">Documentation</a> <a href="../sf">SourceForge</a> <a href="http://sourceforge.net/projects/v-q/project/showfiles.php?group_id=87916">Download files</a> <a href="../site_map.html">Site map</a> </td>
            </tr>
            <tr class="sec">
              <td>
                <a href="../">start</a> :: <a href="../dev">Developers</a> :: <a href="../dev/history.html">Development history</a>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
    <table cellspacing="0" cellpadding="0" width="700">
      <tr>
        <td valign="top" class="first">
          <table width="170" class="first" cellspacing="0" cellpadding="0">
            <tr>
              <td>
                <a href="../dev/authors.html">List of authors</a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../dev/history.html">Development history</a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../dev/source">Source documentation</a>
              </td>
            </tr>
          </table>
        </td>
        <td width="100%">
          <table cellpadding="5" width="100%" height="200">
            <tr>
              <td valign="top">
<table width="100%">
                  <tr class="sec">
                    <td>Revision: 30 (vq)
</td>
                    <td>Date: 2003-12-25T12:01:59.499017GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: hosting: cpginfodb.cc: wwwali_rep: link was removed, now link is removed only if old prefix != current prefix.
<br>CODE: vqwww: added language selection at login
<br>CODE: added - to allowed chars in user_ok
<br>CODE: cvq.cc: changed separator in err_report to #
<br>CODE: cfsvq*.cc: fixed error reporting for errors in authorization module
<br>CODE: added cookie locale (user can choose language).
<br>CODE: cmod.h: added std:: to ostream &amp; err, &amp; out;
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 29 (vq)
</td>
                    <td>Date: 2003-12-09T16:38:49.268418GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">DOC: improved www_site
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 28 (vq)
</td>
                    <td>Date: 2003-12-09T16:35:28.925111GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">VERSION: 4b
<br>CODE: cwwwstatmod.xslt is now using HTTPS and SERVER_NAME set in vqwww.xslt
<br>CODE: vqwww.xslt: added HTTPS parameter, it's set to "on" if user connects via SSL
<br>CODE: added SERVER_NAME to vqwww.xslt
<br>CODE: changed name libvalid.so.1 to libvalid.so.4.0
<br>CODE: cloghistmod: fixed navigation links (there were always 10 pages)
<br>BUG: pfstream.h: changed access to stat, because access ignores effective IDs.
<br>BUG: cfsvq::udot_add: Did not notice error in open
<br>CODE: cvq: added err_noent
<br>CODE: cvq: removed err_udot_ex, using err_exists
<br>CODE: cauth: removed enum err, using values from cvq directly
<br>CODE: changed libraries' names - they end now with ".so.4.0"
<br>CODE: changed code to be compatible with Sablotron 1.0, probably won't work with older versions
<br>CODE: added cvqwww in vqwww as descendant of cenvironment
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 27 (vq)
</td>
                    <td>Date: 2003-11-16T10:08:36.430172GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: hier.cc: removed conf/ps
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 26 (vq)
</td>
                    <td>Date: 2003-11-16T09:55:22.482948GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: Makefiles forgot to add -p to mkdir auto
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 25 (vq)
</td>
                    <td>Date: 2003-11-16T09:51:30.263594GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: Makefile: removed auto/ps.o
<br>CODE: Makefiles: added automatically creating of auto directory
<br>DOC: www_site: changed all path to relative (it's possible to browse www_site from local disk :-)
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 24 (vq)
</td>
                    <td>Date: 2003-11-12T22:41:23.457033GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: www_site: added doxygen output from processing vqwww, freemail, hosting
<br>CODE: www_site: added site map created automatically from menu.xml
<br>CODE: contrib: removed get{u,g}id.cc, they are copied from base directory
<br>CODE: contrib/freemail: file daemon.* are copied from base directory
<br>DOC: improved comments in code, better doxygen output
<br>CODE: hosting: changed reference to uri, it's REQUEST_URI now
<br>CODE: vqwww: changed uri parameter to REQUEST_URI in xslt
<br>CODE: pgsqllogd: forgot to add return 0 after child();
<br>DOC: removed www_site/xslt/lists.xslt
<br>CODE: contrib: removed install.{cc,h}, they are copied from main directory during make stage
<br>CODE: there may be some aborts, please notify me (I'll try to check as much programs as possible)
<br>CODE: optimization is turned on again, found that aborts were caused by wrong object order (g++ sucks?!) while linking
<br>CODE: Makefile -&gt; changed order in which objects are passed to g++ when linking install (bad order causes aborts when exception is thrown from hier). what the fuck is with g++?
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 23 (vq)
</td>
                    <td>Date: 2003-11-05T21:02:48.891208GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: pgsqllogd: added cmd_read_log
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 22 (vq)
</td>
                    <td>Date: 2003-11-05T20:56:42.650315GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: fixes associated with changes in cauth ( in some places return codes were incorrectly processed )
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 21 (vq)
</td>
                    <td>Date: 2003-11-05T20:36:20.437356GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">INFO: this version can be compiled
<br>CODE: clog.* renamed to clogger.*
<br>CODE: vq programs are creating cvq object using cvq::alloc
<br>CODE: constructor of cfsvq does not get cauth ptr, functions which need to operate on auth must call assert_auth which will initialize auth
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 20 (vq)
</td>
                    <td>Date: 2003-11-05T19:40:47.803005GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">INFO: at this time it does not compile
<br>CODE: clean ups - programs include cvq.h, cauth.h, clog.h, removed all includes of deamon versions
<br>CODE: renamed log_init to clogger::alloc
<br>CODE: added cauth::alloc, removing vq_init
<br>CODE: functions from cauth now returns uint8_t, changing all references to those functions
<br>CODE: removed -O2 from compile because exceptions in pgsqlauthd caused aborts.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 19 (vq)
</td>
                    <td>Date: 2003-10-31T19:22:26.710297GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: error reporting is now done using vq-&gt;err_report
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 18 (vq)
</td>
                    <td>Date: 2003-10-30T17:27:20.527974GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: added second (false) parameter to pqxx::Quote
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 17 (vq)
</td>
                    <td>Date: 2003-10-29T21:49:31.269683GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: adding login history
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 16 (vq)
</td>
                    <td>Date: 2003-10-28T18:04:09.305778GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: ac_int, ac_str, str2cc are now common, they are copied from vq during compilation.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 15 (vq)
</td>
                    <td>Date: 2003-10-27T21:47:49.902023GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: added namespace for auto/* in vq, will add apropriate namespaces to other projects.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 14 (vq)
</td>
                    <td>Date: 2003-10-27T21:16:22.752726GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: removed cconf.*, ac_int.cc, ac_str.cc, str2cc.cc from contrib/*, they will use files from vq main directory
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 13 (vq)
</td>
                    <td>Date: 2003-10-27T20:28:29.041647GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: contrib/vqwww: better support of exceptions thrown by modules (menu will remain on screen)
<br>BUG: dom_ip_rm: printed error when -a option was given (wanted 2 arguments)
<br>BUG: cfsvq: wrong interpretation of qmail_assign_ex return codes
<br>BUG: qt_get: returned 0 even on error, added return ret; if error
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 12 (vq)
</td>
                    <td>Date: 2003-10-26T20:46:15.457441GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: cvq: added function err_report which prints full description or last error, changed files to use it.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 11 (vq)
</td>
                    <td>Date: 2003-10-26T18:24:51.654817GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: cfsvq: added storing of errno, can be obtained by err_sys
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 10 (vq)
</td>
                    <td>Date: 2003-10-26T18:11:53.510246GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: changed error reporting should be more describing. Some programs will return errors in situation ignored before (i.e. when you get qouta of user which has no quota).
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 9 (vq)
</td>
                    <td>Date: 2003-10-26T13:37:58.039026GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">BUG: qmail_mrh_add core dumped, forget to change av[2] -&gt; av[1], added also call to qmail-newmrh
<br>CODE: hier.cc: added qmail* files, removed skillall.h
<br>CODE: cfsvq::dom_add: changed order in which files are changed, now first is virt_add, if following fail entry from virtualdomains can be removed
<br>CODE: now you can call dom_add few time if there was temporary error and it will not fail on adding to virtualdomains
<br>CODE: vq/bin/qmail-send-restart is called after changing control files, put there command to HUP/TERM qmail-send
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 8 (vq)
</td>
                    <td>Date: 2003-10-26T11:05:08.991434GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: Makefile: removed skillall.h
<br>CODE: sys.h: removed skillall.h
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 7 (vq)
</td>
                    <td>Date: 2003-10-26T10:53:48.315079GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: removed skillall.*, we will use external programs to restart qmail (see vq/bin/qmail-send-restart)
<br>CODE: new programs: qmail_mrh_add, qmail_mrh_rm, qmail_rcpthosts_add, qmail_virtualdomains_add, qmail_virtualdomains_rm, qmail_assign_rm
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 6 (vq)
</td>
                    <td>Date: 2003-10-25T11:07:37.436304GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: added qmail_run which will run programs like qmail-newu/qmail-newmrh under proper SUID/SGID.
<br>CODE: added qmail_file_add which will add to qmail's file under proper SUID/SGID
<br>CODE: contrib/vqwww adding better exception handling
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 5 (vq)
</td>
                    <td>Date: 2003-10-25T07:20:12.536611GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: added qmail_assign_add which adds line to qmail/users/assign
<br>CODE: added qmail_assign_ex - program that checks whether domains is in qmail/users/assign
<br>CODE: it decided that part changing qmail's files should be moved off cfsvq.cc to separate programs. One action for one program.
<br>CODE: I'm also assuming that program modifing something in vq's directory has full rigths to do it (so it will try to copy permissions, owners, etc.)
<br>BUG: file_rm: under gcc 2.95 didn't work - it couldn't create file to read (yes, it tried to create it, stupid idea)
<br>BUG: file_rm: now it returns error code if it can't copy permissions and owners from original file
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 4 (vq)
</td>
                    <td>Date: 2003-10-23T20:58:31.468657GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: create cfsvq_user.cc cfsvq_dom.cc from cfsvq.cc, faster recompilation on my poor k6-2.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 3 (vq)
</td>
                    <td>Date: 2003-10-21T19:42:59.503410GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">CODE: fixed bug in install.cc (when file existed it stoped installing), now it prints messages and goes further.
<br>CODE: changed cintconf - there's new multiplier argument.
<br>BUG: removing all throw specifications, they can cause too much aborts. it better to remove them all, than to check any single one.
<br>CODE: pgsqlauthd: moved from libpq++ to libpqxx.
<br>CODE: moving from libpq++ to libpqxx.
<br>BUG: in gcc 3.2 files aren't created when ios::in is specified, on gcc 2.95 are. Created compatible versions.
<br>BUG: user_rm fixed displayed strings
<br>CODE: user_add fixed displayed strings
<br>CODE: contrib/hosting/ac_{str,inc}.cc changed subdirectory in etc from freemail to hosting
<br>UI: contrib/hosting/cwwwstatmod.xslt cleaned
<br>CODE: contrib/hosting/cwwwstatmod.cc fixed bug in creating XML for HTTPS
<br>CODE: contrib/hosting/cwwwstatmod.cc it now supports HTTPS (links now points to http or https depending on environment)
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 2 (vq)
</td>
                    <td>Date: 2003-09-30T20:16:29.486001GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">BUG: Some dump routines did not have ios::trunc in open
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 1 (vq)
</td>
                    <td>Date: 2003-09-30T20:04:22.869057GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">Previous repository was lost. This is the current version from
<br>my disk.
<br>
<br>
                    </td>
                  </tr>
                  <tr class="sec">
                    <td>Revision: 0 (vq)
</td>
                    <td>Date: 2003-09-30T20:03:49.141085GMT 
</td>
                  </tr>
                  <tr class="sec">
                    <td colspan="2">Author: new@localhost
</td>
                  </tr>
                  <tr>
                    <td colspan="2">Initial, empty configuration for vq:
<br>Virtual Qmail
<br>
<br>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td colspan="2" align="center" class="sec">
          <a href="http://new.foo-baz.com/">
					Copyrigth 2003, created by Pawel Niewiadomski
				</a>
        </td>
      </tr>
      <tr>
        <td colspan="2" align="center" class="first">
          <a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=87916&amp;type=2" width="125" heigth="37" border="0" alt="SourceForge.net Logo"></a>
        </td>
      </tr>
    </table>
  </body>
</html>
